{"version":3,"file":"app-menu.js","sourceRoot":"","sources":["../app/app-menu.ts"],"names":[],"mappings":"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","sourcesContent":["import { app, dialog, Menu, shell, BrowserWindow } from 'electron';\r\nimport * as mainProcess from './main';\r\n\r\nconst appName = 'Geodan Knutsel MDEditor';\r\n\r\nconst template = [\r\n  {\r\n    label: 'File',\r\n    submenu: [\r\n      {\r\n        label: 'New Window',\r\n        accelerator: 'CommandOrControl+N',\r\n        click() {\r\n          mainProcess.createWindow();\r\n        }\r\n      },\r\n      {\r\n        label: 'Open File',\r\n        accelerator: 'CommandOrControl+O',\r\n        click(item: any, focusedWindow: BrowserWindow) {\r\n          if (focusedWindow) {\r\n            return mainProcess.getFileFromUser(focusedWindow);\r\n          }\r\n\r\n          const newWindow = mainProcess.createWindow();\r\n\r\n          newWindow.on('show', () => {\r\n            mainProcess.getFileFromUser(newWindow);\r\n          });\r\n        },\r\n      },\r\n      {\r\n        label: 'Save File',\r\n        accelerator: 'CommandOrControl+S',\r\n        click(item: any, focusedWindow: BrowserWindow) {\r\n          if (!focusedWindow) {\r\n            return dialog.showErrorBox(\r\n              'Cannot Save or Export',\r\n              'There is currently no active document to save or export.'\r\n            );\r\n          }\r\n          focusedWindow.webContents.send('save-file');\r\n        },\r\n      }\r\n    ],\r\n  },\r\n  {\r\n    label: 'Edit',\r\n    submenu: [\r\n      {\r\n        label: 'Undo',\r\n        accelerator: 'CommandOrControl+Z',\r\n        role: 'undo',\r\n      },\r\n      {\r\n        label: 'Redo',\r\n        accelerator: 'Shift+CommandOrControl+Z',\r\n        role: 'redo',\r\n      },\r\n      { type: 'separator' },\r\n      {\r\n        label: 'Cut',\r\n        accelerator: 'CommandOrControl+X',\r\n        role: 'cut',\r\n      },\r\n      {\r\n        label: 'Copy',\r\n        accelerator: 'CommandOrControl+C',\r\n        role: 'copy',\r\n      },\r\n      {\r\n        label: 'Paste',\r\n        accelerator: 'CommandOrControl+V',\r\n        role: 'paste',\r\n      },\r\n      {\r\n        label: 'Select All',\r\n        accelerator: 'CommandOrControl+A',\r\n        role: 'selectall',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    label: 'Window',\r\n    submenu: [\r\n      {\r\n        label: 'Minimize',\r\n        accelerator: 'CommandOrControl+M',\r\n        role: 'minimize',\r\n      },\r\n      {\r\n        label: 'Close',\r\n        accelerator: 'CommandOrControl+W',\r\n        role: 'close',\r\n      },\r\n    ],\r\n  },\r\n    {\r\n    label: 'Help',\r\n    role: 'help',\r\n    submenu: [\r\n      {\r\n        label: 'Toggle Developer Tools',\r\n        click(item: any, focusedWindow: BrowserWindow) {\r\n          if (focusedWindow) focusedWindow.webContents.toggleDevTools();\r\n        }\r\n      }\r\n    ],\r\n  }\r\n];\r\n\r\nif (process.platform === 'darwin') {\r\n  const name = appName;\r\n  (template as any).unshift({\r\n    label: name,\r\n    submenu: [\r\n      {\r\n        label: `About ${name}`,\r\n        role: 'about',\r\n      },\r\n      { type: 'separator' },\r\n      {\r\n        label: 'Services',\r\n        role: 'services',\r\n        submenu: [],\r\n      },\r\n      { type: 'separator' },\r\n      {\r\n        label: `Hide ${name}`,\r\n        accelerator: 'Command+H',\r\n        role: 'hide',\r\n      },\r\n      {\r\n        label: 'Hide Others',\r\n        accelerator: 'Command+Alt+H',\r\n        role: 'hideothers',\r\n      },\r\n      {\r\n        label: 'Show All',\r\n        role: 'unhide',\r\n      },\r\n      { type: 'separator' },\r\n      {\r\n        label: `Quit ${name}`,\r\n        accelerator: 'Command+Q',\r\n        click() { app.quit(); }, // A\r\n      },\r\n    ],\r\n  });\r\n\r\n  const windowMenu = (template as any).find((item: any) => item.label === 'Window');\r\n  windowMenu!.role = 'window';\r\n  (windowMenu!.submenu).push(\r\n    { type: 'separator' },\r\n    {\r\n      label: 'Bring All to Front',\r\n      role: 'front',\r\n    }\r\n  );\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n// @ts-ignore\r\nconst appMenu = Menu.buildFromTemplate(template);\r\nexport default appMenu;\r\n\r\n"]}